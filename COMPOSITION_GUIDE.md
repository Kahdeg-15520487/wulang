# Wu Lang Spellcraft - Circle Composition Guide

## Overview
The composition system allows you to create complex magical structures by combining multiple circles in different ways. This enables advanced spell effects and strategic power amplification.

## Composition Types

### 1. **Nested Circles** (Stacking)
- **Purpose**: Contain smaller circles within larger ones for layered effects
- **How to Create**:
  1. Select the parent circle in the Composition List
  2. Adjust the "Nested Size" slider to set the size of the nested circle
  3. Click "Add Nested Circle"
- **Benefits**:
  - 80% power transfer from nested to parent
  - Recursive complexity scoring
  - Protective layering effects

### 2. **Connected Circles** (Network)
- **Purpose**: Link circles for energy transfer and amplification
- **Connection Types**:
  - **Direct Energy Transfer**: Simple power flow between circles
  - **Resonance Amplification**: Harmonic enhancement for compatible elements
  - **Continuous Flow**: Persistent energy circulation
  - **Trigger Activation**: Conditional spell activation

- **How to Create**:
  1. Select connection type from dropdown
  2. Adjust "Strength" slider (0.1 - 2.0)
  3. Click "Create Connected Circle"
- **Benefits**:
  - Network power bonuses
  - Distributed casting load
  - Flexible spell combinations

### 3. **Unified Compositions**
- **Purpose**: Combine both nesting and networking for maximum complexity
- **Automatically detected** when a circle has both nested circles AND connections
- **Highest power potential** but also highest complexity/risk

## Using the Composition Interface

### Circle Management Panel
- **Composition List**: Shows all circles in your current composition
- **Select Circle**: Choose which circle to work on
- **Remove Circle**: Delete circles from the composition (except the main circle)

### Control Sliders
- **Nested Size Slider**: Sets the radius of new nested circles (1-8)
- **Connection Strength Slider**: Sets the power of network connections (0.1-2.0)

### Real-time Feedback
The preview panel shows:
- **Composition Type**: Simple, Stacked, Network, or Unified
- **Complexity Score**: Increases with composition complexity
- **Power Output**: Total power including composition bonuses
- **Casting Time**: Time required (increases with complexity)

## Strategic Tips

### For Maximum Power:
1. Use **Resonance connections** between compatible elements
2. Create **nested circles** with complementary element types
3. Monitor stability - don't let it drop too low

### For Stability:
1. Keep complexity under 3.0 for reliable casting
2. Balance element distribution across all circles
3. Use **Direct connections** for predictable effects

### For Efficiency:
1. Fill circles to near capacity before adding new ones
2. Use **Flow connections** for sustained effects
3. Monitor the efficiency percentage in the preview

## Composition Examples

### Defensive Layered Circle
1. Create main circle with Earth talismans
2. Add nested circle with Metal talismans
3. Result: Strong defensive barriers with metallic reinforcement

### Elemental Network
1. Create main circle with Fire talismans
2. Add connected circle with Wind talismans (Resonance connection)
3. Add another connected circle with Lightning talismans (Direct connection)
4. Result: Explosive elemental combination with amplified effects

### Unified Powerhouse
1. Create main circle with balanced elements
2. Add nested circle with pure element focus
3. Create connected circles for amplification
4. Result: Maximum power output with high complexity

## Troubleshooting

### High Complexity Warning
- **Symptom**: Complexity > 3.0, long casting times
- **Solution**: Remove some circles or simplify connections

### Low Stability
- **Symptom**: Stability < 0.6, high failure risk
- **Solution**: Balance elements across circles, reduce connection strength

### Poor Efficiency
- **Symptom**: Efficiency < 70%
- **Solution**: Add more talismans to existing circles before creating new ones

## Advanced Features

### Preview Actions
- **Simulate Casting**: Test your composition's success probability
- **Export Analysis**: Save detailed composition report
- **Generate Recommendations**: Get optimization suggestions

### Visualization
- Main circle and connected circles are displayed
- Nested circles are shown scaled within parent circles
- Connection types are indicated visually
- Element colors help identify balance

## Best Practices

1. **Start Simple**: Begin with a single circle, then add complexity gradually
2. **Monitor Metrics**: Keep an eye on stability and efficiency in the preview
3. **Test Often**: Use "Simulate Casting" to verify your design
4. **Save Configurations**: Export successful compositions for reuse
5. **Experiment**: Try different connection types and nesting patterns

The composition system opens up endless possibilities for creative magical engineering. Start with simple compositions and gradually explore more complex arrangements as you become familiar with the system!
